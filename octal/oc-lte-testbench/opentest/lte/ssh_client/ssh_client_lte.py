from opentest.services.ssh_service import SSHServiceClient

ENB_APP="lteenb-avx2"
EPC_APP="ltemme"
UE_APP="lteue"

class LTE_Remote(SSHServiceClient):

    def create_service(self, addresseip , username_ssh, password_ssh):
        self.password = password_ssh
        SSHServiceClient.create_service(self,addresseip,username_ssh,password_ssh)

    def launch_script_detached(self, path_script, test_dir_path, app, app_args):
        self.execute_command("sudo nohup bash %s %s %s %s" % (path_script, test_dir_path, app, app_args), stdin=[self.password], get_pty=True)

    def pkill_enb(self):
        self.execute_command("sudo pkill "+ENB_APP,stdin=[self.password],get_pty=True)

    def pkill_epc(self):
        self.execute_command("sudo pkill "+EPC_APP,stdin=[self.password],get_pty=True)

    def pkill_ue(self):
        self.execute_command("sudo pkill "+UE_APP,stdin=[self.password],get_pty=True)
